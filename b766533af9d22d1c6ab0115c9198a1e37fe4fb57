{
  "comments": [
    {
      "key": {
        "uuid": "31381825_d031ccf6",
        "filename": "platform/impl/socket_address_posix.cc",
        "patchSetId": 6
      },
      "lineNbr": 18,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Can this copy be avoided (since internal_address_.v4 is already allocated)?  You\u0027ll need to make a cast to populate its members.\n\nSimilar comment applies below for .v6",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4de95ebb_bc2ff6e2",
        "filename": "platform/impl/socket_address_posix.cc",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "OSP_DCHECK(endpoint.address.IsV6()) in the else?",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cde1f8d0_add99e1b",
        "filename": "platform/impl/socket_address_posix.cc",
        "patchSetId": 6
      },
      "lineNbr": 30,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Seems like we don\u0027t need a size_ member as the sizeof() values can be computed at compile time (at least on Linux, the sockaddr structs appear to be fixed length)",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0aad99b8_760c7702",
        "filename": "platform/impl/socket_address_posix.h",
        "patchSetId": 6
      },
      "lineNbr": 22,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "This seems like an implementation detail. Declare private?",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "914d3f81_2bc1e098",
        "filename": "platform/impl/socket_address_posix_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 16,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "What is sa_len?  I don\u0027t see it in the sockaddr_in definitions for Posix or Linux.",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ae19eb5f_c2f9e5a6",
        "filename": "platform/impl/socket_address_posix_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Nit: Can you use hex or oct literals instead of chars",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a1a26331_c9a34638",
        "filename": "platform/impl/socket_address_posix_unittest.cc",
        "patchSetId": 6
      },
      "lineNbr": 23,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Can you test that other sockaddr members are set properly?  (Same goes for IPv6.)",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0f008e39_06090bb0",
        "filename": "platform/impl/stream_socket_posix.cc",
        "patchSetId": 6
      },
      "lineNbr": 20,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Can this be a settable through the API or the Accept call?",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5767b108_012c4683",
        "filename": "platform/impl/stream_socket_posix.cc",
        "patchSetId": 6
      },
      "lineNbr": 26,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Style: I am OK using an inline ternary expression for this sort of thing.",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ee4e1d8e_20f4e675",
        "filename": "platform/impl/stream_socket_posix.cc",
        "patchSetId": 6
      },
      "lineNbr": 32,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Design: if we moved this call to an Initialize() method, we could return a proper Error::Code here.",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5cb3d119_a41b3c20",
        "filename": "platform/impl/stream_socket_posix.cc",
        "patchSetId": 6
      },
      "lineNbr": 34,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Instead, you could have a last_error_ member (and a getter) so the caller can retrieve the last error returned by the socket.",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8d3c17d_720a1bce",
        "filename": "platform/impl/stream_socket_posix.cc",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "I believe all the errors you would encounter in this API are terminal, i.e. the socket is not going to be useful after an error occurs.\n\nCan we consistently close() the socket on an error throughout?\n\nThe error code for this state could just be kSocketClosed.",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e8cbbd98_2debe4e6",
        "filename": "platform/impl/stream_socket_posix.cc",
        "patchSetId": 6
      },
      "lineNbr": 120,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Slightly prefer declaring two ctors versus having an optional parameter (just nicer from the caller\u0027s POV not to have to pass nullopt).",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b2bd9ee_d08c8ab2",
        "filename": "platform/impl/stream_socket_posix.cc",
        "patchSetId": 6
      },
      "lineNbr": 123,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "The socket dtor should call Close() if the socket is not closed (avoids leaks)",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8bd01e59_72dfc6c0",
        "filename": "platform/impl/stream_socket_posix.h",
        "patchSetId": 6
      },
      "lineNbr": 25,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Will this API be compatible with the Chrome Network Service?\nWe\u0027ll have to design it to work asynchronously in that case.",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9482ccb1_6b2133a3",
        "filename": "platform/impl/stream_socket_posix.h",
        "patchSetId": 6
      },
      "lineNbr": 28,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Chrome\u0027s net/socket/stream_socket.h doesn\u0027t have Bind().\nIt doesn\u0027t seem to have have a way at all to bind a local address.\nHmm...",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9bce186f_04935374",
        "filename": "platform/impl/stream_socket_posix.h",
        "patchSetId": 6
      },
      "lineNbr": 37,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-08-19T18:09:06Z",
      "side": 1,
      "message": "Side comment: usually TCP sockets fall into two code paths:\n\nbind()/listen()/accept() (server)\n\nbind()/connect() (client)\n\nI think it\u0027s fine to support both uses through the same interface, if the client holds it wrong the implementation will bubble up errors if it\u0027s in the wrong state.  (Versus splitting this into ClientStreamSocket and ServerStreamSocket.)",
      "revId": "b766533af9d22d1c6ab0115c9198a1e37fe4fb57",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}