{
  "comments": [
    {
      "key": {
        "uuid": "d8b6e8e4_dec7942e",
        "filename": "api/impl/quic/quic_connection_impl.cc",
        "patchSetId": 7
      },
      "lineNbr": 26,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2019-01-17T00:14:42Z",
      "side": 1,
      "message": "Previously this would return -1 for an error.  Now it return 0.  That\u0027s not the same.  Should we use value_or(-1) until we can change the signature or meaning of UdpTransport::Write?",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0a08eb54_c222b191",
        "filename": "api/impl/quic/quic_connection_impl.cc",
        "patchSetId": 7
      },
      "lineNbr": 26,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:53:00Z",
      "side": 1,
      "message": "Yeah, you are definitely right. I hate it, but it\u0027s the right thing.",
      "parentUuid": "d8b6e8e4_dec7942e",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bfadb88_a709b245",
        "filename": "api/impl/quic/quic_connection_impl.cc",
        "patchSetId": 7
      },
      "lineNbr": 26,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2019-01-17T07:32:24Z",
      "side": 1,
      "message": "I\u0027m not sure why this would be right.  Technically, the quartc code that calls this just checks for \u003c\u003d 0 right now, but what is the problem with returning -1?",
      "parentUuid": "0a08eb54_c222b191",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e76f9eeb_e2aed072",
        "filename": "base/ip_address.cc",
        "patchSetId": 7
      },
      "lineNbr": 150,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-01-17T01:03:45Z",
      "side": 1,
      "message": "Looking through the headers, I think the no-arg constructor without the initializer list will result in an empty absl::optional.",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30402fb2_b3fd0317",
        "filename": "base/ip_address.cc",
        "patchSetId": 7
      },
      "lineNbr": 150,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:49:18Z",
      "side": 1,
      "message": "It looks like it sets it to zero, not empty when I use the empty constructor. I have to call the constructor with (absl::nullopt), which IMO is kludgier than this.",
      "parentUuid": "e76f9eeb_e2aed072",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6c6be4e5_d82d0adc",
        "filename": "base/ip_address.cc",
        "patchSetId": 7
      },
      "lineNbr": 158,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-01-17T01:03:45Z",
      "side": 1,
      "message": "This appears to do the extra work of in-place destruction and construction of the optional, which is just going to copy the value of i.  Would copy assignment work just as well?",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "747ced3e_9d65a6c5",
        "filename": "base/ip_address.cc",
        "patchSetId": 7
      },
      "lineNbr": 158,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:49:18Z",
      "side": 1,
      "message": "Yeah, copy works fine.",
      "parentUuid": "6c6be4e5_d82d0adc",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "375f0768_f6b8e415",
        "filename": "base/ip_address.cc",
        "patchSetId": 7
      },
      "lineNbr": 198,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2019-01-17T00:14:42Z",
      "side": 1,
      "message": "would \"if (double_colon_index \u003d\u003d i)\" do the same?",
      "range": {
        "startLine": 198,
        "startChar": 0,
        "endLine": 198,
        "endChar": 59
      },
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cb93011f_13b27865",
        "filename": "base/ip_address.cc",
        "patchSetId": 7
      },
      "lineNbr": 198,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:53:00Z",
      "side": 1,
      "message": "Yeah, looks better IMO.",
      "parentUuid": "375f0768_f6b8e415",
      "range": {
        "startLine": 198,
        "startChar": 0,
        "endLine": 198,
        "endChar": 59
      },
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b10a1c5_45085b7a",
        "filename": "platform/base/event_loop.cc",
        "patchSetId": 7
      },
      "lineNbr": 20,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-01-17T01:03:45Z",
      "side": 1,
      "message": "It looks like we are using \"no length\" to mean \"some error occurred.\" This seems like it could be base::ErrorOr\u003cint, errno\u003e?  I guess we can do a pass to convert this later.",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "99cef4fb_ed5970a8",
        "filename": "platform/base/event_loop.cc",
        "patchSetId": 7
      },
      "lineNbr": 20,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:49:18Z",
      "side": 1,
      "message": "We don\u0027t get any error info, which is why I didn\u0027t opt for ErrorOr. We just get -1 down at the platform layer.",
      "parentUuid": "4b10a1c5_45085b7a",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1aad3b7c_6e2a91cc",
        "filename": "platform/base/event_loop.cc",
        "patchSetId": 7
      },
      "lineNbr": 31,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2019-01-17T00:14:42Z",
      "side": 1,
      "message": "*len?",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e05f6abb_13e9c504",
        "filename": "platform/base/event_loop.cc",
        "patchSetId": 7
      },
      "lineNbr": 31,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:53:00Z",
      "side": 1,
      "message": "No can do, causes a build issue:\n\nerror: cannot convert ‘absl::optional\u003cint\u003e’ to ‘ssize_t {aka long int}’ in assignment\n\nMight be able to static cast, but I think .value() looks OK.",
      "parentUuid": "1aad3b7c_6e2a91cc",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "daf0ce5b_331e8cf9",
        "filename": "platform/mac/network_interface.cc",
        "patchSetId": 7
      },
      "lineNbr": 54,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-01-17T01:03:45Z",
      "side": 1,
      "message": "This is compiled out in release builds, unlike the previous code which returns -1 on error.",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b2a31b56_589a9bce",
        "filename": "platform/mac/network_interface.cc",
        "patchSetId": 7
      },
      "lineNbr": 54,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:49:18Z",
      "side": 1,
      "message": "The -1 is bogus, since this is unsigned. I\u0027ll move this to a OSP_CHECK, and we can discuss tomorrow if there\u0027s still room for improvement :).",
      "parentUuid": "daf0ce5b_331e8cf9",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "942b8c60_45d880f9",
        "filename": "platform/mac/network_interface.cc",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-01-17T01:03:45Z",
      "side": 1,
      "message": "Typo in OSP_DCHECK?\nAlso same question as above.",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4ebb99a2_a3cc971e",
        "filename": "platform/mac/network_interface.cc",
        "patchSetId": 7
      },
      "lineNbr": 60,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:49:18Z",
      "side": 1,
      "message": "Stupid question: this obviously means I\u0027m not doing the Mac build when I run autoninja. Do I need to get an enlistment on a macbook to test mac specific code, or can I give ninja a different build configuration to test mac code on linux?",
      "parentUuid": "942b8c60_45d880f9",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69da5b17_80fa5850",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 7
      },
      "lineNbr": 39,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-01-17T01:03:45Z",
      "side": 1,
      "message": "In Chromium, this would be written \"return absl::nullopt.\"",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "22362466_2d529042",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 7
      },
      "lineNbr": 39,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:49:18Z",
      "side": 1,
      "message": "I don\u0027t have a strong preference. I was recommended to switch to {} in other feedback, I\u0027ll move to \"return absl::nullopt\" and if there\u0027s further contention we can talk about it.",
      "parentUuid": "69da5b17_80fa5850",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f586b456_94ab7f50",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 7
      },
      "lineNbr": 61,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2019-01-17T00:14:42Z",
      "side": 1,
      "message": "*fd?",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 61,
        "endChar": 22
      },
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7015fdfb_36d646c6",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 7
      },
      "lineNbr": 61,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:49:18Z",
      "side": 1,
      "message": "optional provides overloads of common cases, such as this. If you try to dereference it, it will throw an error if not set.",
      "parentUuid": "f586b456_94ab7f50",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 61,
        "endChar": 22
      },
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2ccb33c_251c12c9",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 7
      },
      "lineNbr": 313,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-01-17T01:03:45Z",
      "side": 1,
      "message": "Thanks for simplifying this :)",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8ab85465_bfb95b73",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 7
      },
      "lineNbr": 313,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:49:18Z",
      "side": 1,
      "message": "I do what I can. Definitely more room for improvement, but this is fine-ish.",
      "parentUuid": "e2ccb33c_251c12c9",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "960941c7_099fc476",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 7
      },
      "lineNbr": 344,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-01-17T01:03:45Z",
      "side": 1,
      "message": "Nit: I like ternary statements here, but that\u0027s just a personal preference.",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "30c33358_9d47ee84",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 7
      },
      "lineNbr": 344,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-01-17T05:49:18Z",
      "side": 1,
      "message": "Fair enough. I\u0027m down to switch, it looks alright.",
      "parentUuid": "960941c7_099fc476",
      "revId": "33ea5d6a33b49b8a37ac9ceb3572d2db05177c1f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}