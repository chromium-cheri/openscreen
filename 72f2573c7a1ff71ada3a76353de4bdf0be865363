{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d347e0b5_f759d636",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2023-02-24T00:32:00Z",
      "side": 1,
      "message": "I think this is the next step to resolve the decoder issues you found Ryan. Thoughts on this addition to the API?",
      "revId": "72f2573c7a1ff71ada3a76353de4bdf0be865363",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "61e06c18_0f3e1cb7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2023-02-24T01:41:35Z",
      "side": 1,
      "message": "How does the sender know when to set this \"extra data\" field and what to set it to?",
      "revId": "72f2573c7a1ff71ada3a76353de4bdf0be865363",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cba5fd93_346a3f5a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2023-02-24T20:51:52Z",
      "side": 1,
      "message": "Looks like I misunderstood the issue potentially?\n\nhttps://stackoverflow.com/questions/35144059/ffmpeg-how-do-i-get-the-extradata-required-to-open-the-alac-codec\n\nIIUC, this should be all capable of being done on the receiver side by inspecting the stream?\n\nRyan, mind weighing in before I abandon this patch?",
      "parentUuid": "61e06c18_0f3e1cb7",
      "revId": "72f2573c7a1ff71ada3a76353de4bdf0be865363",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03895edc_52e6b53a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2023-02-24T21:47:40Z",
      "side": 1,
      "message": "The Extra Data field is already a (poorly named) field in the existing Audio and Video configs used by Chromium:\n\n- https://source.chromium.org/chromium/chromium/src/+/main:media/base/audio_decoder_config.h;l\u003d80\n- https://source.chromium.org/chromium/chromium/src/+/main:media/base/video_decoder_config.h;l\u003d129\n\nThough it looks like aac has a second extra data field too\n- https://source.chromium.org/chromium/chromium/src/+/main:media/base/audio_decoder_config.h;l\u003d129\n\nThe problem here is twofold:\n- In mirroring, we should somehow set this value with what is \"correct\". For Fuchsia, it looks like only the `aac_extra_data` field is needed, but others may need different fields too\n- In remoting, we should persist what Chromium already gives us. Right now, we are just dropping these values",
      "parentUuid": "cba5fd93_346a3f5a",
      "revId": "72f2573c7a1ff71ada3a76353de4bdf0be865363",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a2686edf_a3196d8c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2023-02-24T21:53:09Z",
      "side": 1,
      "message": "The correct value should come from opening and inspecting the stream, e.g. avformat_find_stream_info, which should be done in the Demuxer:\n\nhttps://osscs.corp.google.com/chromium/chromium/src/+/main:media/filters/ffmpeg_demuxer.cc;l\u003d1264\n\nI don\u0027t think any Open Screen changes are actually necessary for this fix. I\u0027ll abandon this patch. It was low effort thankfully so no big deal to just cut it.",
      "parentUuid": "03895edc_52e6b53a",
      "revId": "72f2573c7a1ff71ada3a76353de4bdf0be865363",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}