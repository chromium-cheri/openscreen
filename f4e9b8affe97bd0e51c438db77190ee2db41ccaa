{
  "comments": [
    {
      "key": {
        "uuid": "6c027eaa_3d1f1b51",
        "filename": "util/operation_loop.cc",
        "patchSetId": 6
      },
      "lineNbr": 25,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-10-02T20:32:19Z",
      "side": 1,
      "message": ".load() for consistency? (even though it\u0027s not necessary)",
      "range": {
        "startLine": 25,
        "startChar": 9,
        "endLine": 25,
        "endChar": 20
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a50d8177_eb0a80b0",
        "filename": "util/operation_loop.cc",
        "patchSetId": 6
      },
      "lineNbr": 25,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-02T20:53:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6c027eaa_3d1f1b51",
      "range": {
        "startLine": 25,
        "startChar": 9,
        "endLine": 25,
        "endChar": 20
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b9c1690f_016ef09c",
        "filename": "util/operation_loop.cc",
        "patchSetId": 6
      },
      "lineNbr": 26,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-10-02T20:32:19Z",
      "side": 1,
      "message": "Do we want to always perform the full loop before exiting?",
      "range": {
        "startLine": 26,
        "startChar": 4,
        "endLine": 26,
        "endChar": 24
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df0e86f1_f8ba6bf4",
        "filename": "util/operation_loop.cc",
        "patchSetId": 6
      },
      "lineNbr": 26,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-02T20:53:10Z",
      "side": 1,
      "message": "I\u0027ve added early exit to the PeformAllOperations method when is_running \u003d false",
      "parentUuid": "b9c1690f_016ef09c",
      "range": {
        "startLine": 26,
        "startChar": 4,
        "endLine": 26,
        "endChar": 24
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "adc11ad5_ad4e9ee8",
        "filename": "util/operation_loop.cc",
        "patchSetId": 6
      },
      "lineNbr": 45,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-10-02T20:32:19Z",
      "side": 1,
      "message": "Cannot be stopped via RequestStopSoon before the sleep ends.",
      "range": {
        "startLine": 45,
        "startChar": 4,
        "endLine": 45,
        "endChar": 52
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40ab9601_21626c35",
        "filename": "util/operation_loop.cc",
        "patchSetId": 6
      },
      "lineNbr": 45,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-02T20:53:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "adc11ad5_ad4e9ee8",
      "range": {
        "startLine": 45,
        "startChar": 4,
        "endLine": 45,
        "endChar": 52
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30d6a6d4_8f671e7d",
        "filename": "util/operation_loop.cc",
        "patchSetId": 6
      },
      "lineNbr": 45,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-10-02T21:21:34Z",
      "side": 1,
      "message": "Adding a check for is_running_ doesn\u0027t really change anything. Thread is not going to check the value of is_running_ while it\u0027s asleep.",
      "parentUuid": "40ab9601_21626c35",
      "range": {
        "startLine": 45,
        "startChar": 4,
        "endLine": 45,
        "endChar": 52
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1da95b56_89be0fef",
        "filename": "util/operation_loop.cc",
        "patchSetId": 6
      },
      "lineNbr": 45,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-02T21:45:17Z",
      "side": 1,
      "message": "Hmm, I see what you mean. Updating to a condition variable with a timeout instead\nI actually much prefer this approach because I didn\u0027t like taking a dependency on std::thread in a util/ class",
      "parentUuid": "30d6a6d4_8f671e7d",
      "range": {
        "startLine": 45,
        "startChar": 4,
        "endLine": 45,
        "endChar": 52
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "15819d42_66f33003",
        "filename": "util/operation_loop.h",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-10-02T20:32:19Z",
      "side": 1,
      "message": "TaskLoop?",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 19,
        "endChar": 19
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f82fa258_47c67d71",
        "filename": "util/operation_loop.h",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-02T20:53:10Z",
      "side": 1,
      "message": "I prefer Operation to Task here, and couldn\u0027t figure out why, so I looked it up:\n\n\"As nouns the difference between task and operation is that task is a piece of work done as part of one\u0027s duties while operation is [...] the method by which a device performs its function.\"\n\nI think operation fits better here for the objects we supply to the loop (at least given how we intend to use it), and if it\u0027s looping over Operations I think it should be an OperationLoop",
      "parentUuid": "15819d42_66f33003",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 19,
        "endChar": 19
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8d69b349_bf7b3b29",
        "filename": "util/operation_loop.h",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-10-02T21:21:34Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "f82fa258_47c67d71",
      "range": {
        "startLine": 19,
        "startChar": 6,
        "endLine": 19,
        "endChar": 19
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "eca6b899_a0678edd",
        "filename": "util/operation_loop.h",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-10-02T20:32:19Z",
      "side": 1,
      "message": "What is this needed for?",
      "range": {
        "startLine": 49,
        "startChar": 24,
        "endLine": 49,
        "endChar": 66
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e4f440e6_c6f39c7d",
        "filename": "util/operation_loop.h",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-02T20:53:10Z",
      "side": 1,
      "message": "This is to prevent the loop from becoming a busy loop, based on Mark\u0027s concern (see below comments thread)",
      "parentUuid": "eca6b899_a0678edd",
      "range": {
        "startLine": 49,
        "startChar": 24,
        "endLine": 49,
        "endChar": 66
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1ef4bfd3_4b742b77",
        "filename": "util/operation_loop.h",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-10-02T21:21:34Z",
      "side": 1,
      "message": "How does the caller determine this duration?",
      "parentUuid": "e4f440e6_c6f39c7d",
      "range": {
        "startLine": 49,
        "startChar": 24,
        "endLine": 49,
        "endChar": 66
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "410a0a85_8ad0e120",
        "filename": "util/operation_loop.h",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-02T21:45:17Z",
      "side": 1,
      "message": "This is set with constructor parameter min_loop_execution_time. I might be misunderstanding the question.",
      "parentUuid": "1ef4bfd3_4b742b77",
      "range": {
        "startLine": 49,
        "startChar": 24,
        "endLine": 49,
        "endChar": 66
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1f52ad4e_2aea251f",
        "filename": "util/operation_loop.h",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-10-02T22:10:25Z",
      "side": 1,
      "message": "Hm, I guess I didn\u0027t phrase my question well.\nIf I\u0027m a caller and I want to create OperationLoop instance, how do I determine what time should I put as minimum loop execution time?\nAlso, why are we specifying a minimum loop execution time and not a minimum gap between executions?",
      "parentUuid": "410a0a85_8ad0e120",
      "range": {
        "startLine": 49,
        "startChar": 24,
        "endLine": 49,
        "endChar": 66
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7867e4ca_887296b9",
        "filename": "util/operation_loop.h",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-02T23:57:22Z",
      "side": 1,
      "message": "First question: In general, I expect it would be use-case and possibly hardware specific. For instance, once we put this in the PlatformClientPosix (parallel CL), we can allow the embedder to specify it when creating a PlatformClientPosix. An embedder who could use a dedicated core for just the Networking Thread may want minimum \u003d 0, while one using a raspberry pi v1 might want a very high minimum to avoid thread starvation\n\nSecond question: For our use case, I don\u0027t see any practical difference between a min loop execution time and a gap between executions. If you prefer the latter I can change to that, it just adds some complexity to the code that I didn\u0027t see a need for (we need to store the last start time of each function, etc). Let me know your preference and I can go that route",
      "parentUuid": "1f52ad4e_2aea251f",
      "range": {
        "startLine": 49,
        "startChar": 24,
        "endLine": 49,
        "endChar": 66
      },
      "revId": "f4e9b8affe97bd0e51c438db77190ee2db41ccaa",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}