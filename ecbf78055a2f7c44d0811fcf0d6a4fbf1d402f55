{
  "comments": [
    {
      "key": {
        "uuid": "2e30319d_23beb682",
        "filename": "cast/common/mdns/mdns_querier.cc",
        "patchSetId": 18
      },
      "lineNbr": 31,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-10-01T19:11:48Z",
      "side": 1,
      "message": "You don\u0027t need comparison to check for nullptr.",
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b4f40a96_f9bb7d91",
        "filename": "cast/common/mdns/mdns_querier.cc",
        "patchSetId": 18
      },
      "lineNbr": 37,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-10-01T19:11:48Z",
      "side": 1,
      "message": "What if receiver_ already has a callback set?\n\nShould receiver_ be owned by this class so that can\u0027t happen?",
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "af33cd21_c8bda027",
        "filename": "cast/common/mdns/mdns_querier.cc",
        "patchSetId": 18
      },
      "lineNbr": 42,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-10-01T19:11:48Z",
      "side": 1,
      "message": "Again, if two MdnsQuerier objects get passed the same MdnsReceiver, bad things are going to happen.",
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f7ff53f4_1232286e",
        "filename": "cast/common/mdns/mdns_querier.cc",
        "patchSetId": 18
      },
      "lineNbr": 52,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-10-01T19:11:48Z",
      "side": 1,
      "message": "Consider using a private type alias (QueryKey?) to save some typing, but I don\u0027t feel strongly about it.",
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2eff69b4_e7ea0d1a",
        "filename": "cast/common/mdns/mdns_querier.cc",
        "patchSetId": 18
      },
      "lineNbr": 57,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-01T23:11:27Z",
      "side": 1,
      "message": "should this be now_function_",
      "range": {
        "startLine": 57,
        "startChar": 51,
        "endLine": 57,
        "endChar": 61
      },
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "81b226a6_7d70e470",
        "filename": "cast/common/mdns/mdns_querier.cc",
        "patchSetId": 18
      },
      "lineNbr": 64,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-10-01T19:11:48Z",
      "side": 1,
      "message": "It might save a couple of lines to allocate and start the MdnsQuestionTracker, then insert it into the map, especially since you need to call it again below.",
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e45d73fa_62c27ff6",
        "filename": "cast/common/mdns/mdns_querier.cc",
        "patchSetId": 18
      },
      "lineNbr": 68,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-10-01T19:11:48Z",
      "side": 1,
      "message": "Is there a use case for having more than one callback per query?",
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd8eb6a5_85c32fe7",
        "filename": "cast/common/mdns/mdns_querier.cc",
        "patchSetId": 18
      },
      "lineNbr": 96,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-10-01T19:11:48Z",
      "side": 1,
      "message": "The authority records are used for simultaneous probe tiebreaking, which is used as a congestion control measure IIUC.  I think that can be left as future work.\n\nChromecast, at least, uses additional records to return the A, TXT and SRV answers.\n\nhttps://paste.googleplex.com/4715742731698176\n\nSo yes, those should definitely be handled.",
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b58ff6a9_24bc55a5",
        "filename": "cast/common/mdns/mdns_querier.h",
        "patchSetId": 18
      },
      "lineNbr": 29,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-01T23:11:27Z",
      "side": 1,
      "message": "It looks like sender, now_function, and random_delay are only used for StartQuery\n\nWould it make more sense to instead make the parameters:\n  MdnsQuerier(MdnsReceiver* receiver,\n              TaskRunner* task_runner,\n              std::function\u003cstd::unique_ptr\u003cMdnsQuestionTracker\u003e()\u003e);\n\n(Or maybe std::function\u003cstd::unique_ptr\u003cMdnsQuestionTracker\u003e(TaskRunner*)\u003e)",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 29,
        "endChar": 40
      },
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "283e29bb_68e2b8fe",
        "filename": "cast/common/mdns/mdns_querier.h",
        "patchSetId": 18
      },
      "lineNbr": 61,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-01T23:11:27Z",
      "side": 1,
      "message": "Would be clearer with:\nusing QueryKey \u003d std::tuple\u003cDomainName, DnsType, DnsClass\u003e",
      "range": {
        "startLine": 61,
        "startChar": 21,
        "endLine": 61,
        "endChar": 62
      },
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e9d309c_04e594b6",
        "filename": "cast/common/mdns/mdns_querier_unittest.cc",
        "patchSetId": 18
      },
      "lineNbr": 11,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-09-30T22:34:58Z",
      "side": 1,
      "message": "Tests are coming up in the next patchset, still adding more.",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 11,
        "endChar": 36
      },
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03c8220a_bc81009b",
        "filename": "cast/common/mdns/mdns_receiver.cc",
        "patchSetId": 18
      },
      "lineNbr": 56,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-10-01T19:11:48Z",
      "side": 1,
      "message": "What delegate pointer are you referring to here?",
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b9c0fe7_556d2b4f",
        "filename": "cast/common/mdns/mdns_trackers.h",
        "patchSetId": 18
      },
      "lineNbr": 134,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-10-01T23:11:27Z",
      "side": 1,
      "message": "nit: const?",
      "range": {
        "startLine": 134,
        "startChar": 24,
        "endLine": 134,
        "endChar": 25
      },
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fa5c9534_c2265782",
        "filename": "cast/common/mdns/mdns_trackers.h",
        "patchSetId": 18
      },
      "lineNbr": 155,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-10-01T19:11:48Z",
      "side": 1,
      "message": "Nit: callbacks",
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35f9ce9e_6ae36426",
        "filename": "cast/common/mdns/mdns_trackers.h",
        "patchSetId": 18
      },
      "lineNbr": 164,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-10-01T19:11:48Z",
      "side": 1,
      "message": "Maybe the QueryKey alias should be defined in a public .h so it can be used here too?",
      "revId": "ecbf78055a2f7c44d0811fcf0d6a4fbf1d402f55",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}