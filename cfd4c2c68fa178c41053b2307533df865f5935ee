{
  "comments": [
    {
      "key": {
        "uuid": "2b471902_c743e81b",
        "filename": "platform/api/network_interface.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2020-01-22T19:02:50Z",
      "side": 1,
      "message": "I generally dislike boolean arguments, mostly because of this:\n\nhttp://www.informit.com/articles/article.aspx?p\u003d1392524\n\n\"Boolean arguments loudly declare that the function does more than one thing. They are confusing and should be eliminated.\"\n\nMy question(s) would be: do we actually ever want to NOT include loopback? Why not? Is one for testing only? Which one? \n\nSome (hopefully better) options:\n\n1. Always include loopback, and the caller can remove if they want.\n2. Never include loopback, and expose a separate method for GetLoopbackNetworkInterface().",
      "revId": "cfd4c2c68fa178c41053b2307533df865f5935ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bbec1687_28a6ee80",
        "filename": "platform/api/network_interface.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2020-01-22T19:09:45Z",
      "side": 1,
      "message": "@miu, what are your thoughts?\n\nI prefer option 1, but I assume that the loopback interface was excluded for some reason in the current code?",
      "parentUuid": "2b471902_c743e81b",
      "revId": "cfd4c2c68fa178c41053b2307533df865f5935ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c0d9f02_18bf85fa",
        "filename": "platform/api/network_interface.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1002076
      },
      "writtenOn": "2020-01-22T20:49:16Z",
      "side": 1,
      "message": "It\u0027d be better for btolsch@ to comment on this, since he was the original author/user of this API.\n\nWithout knowing much about why we\u0027re doing this, I\u0027d personally be in favor of #2.\n\nOut of curiosity, why do we need the loopback interface?",
      "parentUuid": "bbec1687_28a6ee80",
      "revId": "cfd4c2c68fa178c41053b2307533df865f5935ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b8a24ed_7ad6e2e9",
        "filename": "platform/api/network_interface.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2020-01-22T21:04:34Z",
      "side": 1,
      "message": "+btolsch\n\nNeeded for the DNS-SD E2E test code - we need to talk to the loopback interface so that the test can be done from a single executable on one machine (and ideally run as a trybot)",
      "parentUuid": "7c0d9f02_18bf85fa",
      "revId": "cfd4c2c68fa178c41053b2307533df865f5935ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42dece54_006714ba",
        "filename": "platform/api/network_interface.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2020-01-22T22:15:37Z",
      "side": 1,
      "message": "I\u0027d also prefer #2, because I don\u0027t think we\u0027ll often want both normal interfaces _and_ loopback (which is typically for testing).  The original intent wasn\u0027t very complicated; it was used to gather interfaces for mDNS probing, and probing the loopback device is a waste of time.",
      "parentUuid": "6b8a24ed_7ad6e2e9",
      "revId": "cfd4c2c68fa178c41053b2307533df865f5935ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ffcdac46_7f1abc77",
        "filename": "platform/api/network_interface.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1002076
      },
      "writtenOn": "2020-01-23T06:11:19Z",
      "side": 1,
      "message": "\u003e Needed for the DNS-SD E2E test code - we need to talk to the loopback interface so that the test can be done\n \u003e from a single executable on one machine (and ideally run as a trybot)\n\nOh! We could just keep the changes constrained to platform/impl since this is intended for standalone test executables.\n\nMy suggestion: Do #2 in a platform/impl/network_interfaces.h header file, then provide the linux- and mac-specific implementations in p/i/network_interfaces_linux.cc and mac.cc.",
      "parentUuid": "42dece54_006714ba",
      "revId": "cfd4c2c68fa178c41053b2307533df865f5935ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11e711fd_49951489",
        "filename": "platform/api/network_interface.h",
        "patchSetId": 1
      },
      "lineNbr": 22,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2020-01-25T03:29:36Z",
      "side": 1,
      "message": "@miu that sounds like a perfect solution! Then we can avoid breaking changes in embedders too!",
      "parentUuid": "ffcdac46_7f1abc77",
      "revId": "cfd4c2c68fa178c41053b2307533df865f5935ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "969b5882_5e9dbd79",
        "filename": "platform/impl/network_interface_linux.cc",
        "patchSetId": 1
      },
      "lineNbr": 222,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2020-01-22T19:02:50Z",
      "side": 1,
      "message": "Comment should be updated, or better yet just deleted in favor of:\n\nconst bool is_loopback_interface \u003d interface_info-\u003eifi_flags \u0026 IFF_LOOPBACK;\n\nif (!include_loopback \u0026\u0026 is_loopback_interface) {",
      "revId": "cfd4c2c68fa178c41053b2307533df865f5935ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0e0a7e8a_6c210051",
        "filename": "platform/impl/network_interface_linux.cc",
        "patchSetId": 1
      },
      "lineNbr": 222,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2020-01-25T03:29:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "969b5882_5e9dbd79",
      "revId": "cfd4c2c68fa178c41053b2307533df865f5935ee",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}