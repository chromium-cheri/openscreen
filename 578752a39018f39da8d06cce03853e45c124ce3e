{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "95daef6e_4e9ed056",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1363709
      },
      "writtenOn": "2024-05-22T07:28:23Z",
      "side": 1,
      "message": "Hi, mark. PTAL, thanks.",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "641d64d5_51c21ecf",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2024-05-22T20:35:37Z",
      "side": 1,
      "message": "Sorry for the delays, been busy with other projects.  LGTM overall, this is a good change.  I agree that the OSP code does not need to know about IP endpoints and those can be managed inside the code that talks to QUIC.\n\nI am suprised at the number of places that need to know about the instance_id in the OSP code.  It seems like most of these objects should only belong to one agent (instance) so they do not need to track information for multiple instances.  Refactoring to fix this is a project for another day.\n\nFrom a naming point of view, there should be only one instance_id / instance_number per agent.  The string identifier for an agent could be its agent fingerprint; the only time this would change is if we implement certificate rotation, which is not currently part of the spec.\n\nSo I would propose changing the names to agent_id / agent_number in this CL, and later changing agent_id to agent_fingerprint once certificates are available.\n\nWDYT?",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48aa570b_54183120",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1363709
      },
      "writtenOn": "2024-05-23T02:27:46Z",
      "side": 1,
      "message": "Hi, mark. Thanks for the review.\n\nFrom a naming point of view, instance_id and fingerprint are both unique and can be used to identify the agent. so why fingerprint is perfered? I think the main difference between them is that instance_id is unchanged while fingerprint can be changed if we implement certificate rotation. Use the variable fingerprint is more complex, isn\u0027t it? Another consideration is that instance_id is often shorter than fingerprints. So maybe using instance_id will be more efficient??\n\nIf we agree with using instance_id, I think rename instance_id to instance_name and rename instance_number to instance_id is clearer. WDYTï¼Ÿ",
      "parentUuid": "641d64d5_51c21ecf",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6d12b98c_05b77087",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1363709
      },
      "writtenOn": "2024-05-23T06:51:26Z",
      "side": 1,
      "message": "In addition, instance_id is used as the identifier for a service in embedder (like presentation), so I think it is also better to use instance_id than FP in OSP to keep consistent.",
      "parentUuid": "48aa570b_54183120",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "70891bac_59868022",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2024-05-29T23:28:14Z",
      "side": 1,
      "message": "I need to think about this some more.  It would be useful to have an ID that is not tied to a specific certificate.  Right now instance_id is not defined by the spec, and if we want to use it for key rotation in the future then we need to base it on UUID or something equivalent.  It might be okay to use it internally for now.\n\nGive me a little more time to review this CL and once this lands it should unblock the rest of the CLs in this chain as they all use the instance_id.",
      "parentUuid": "6d12b98c_05b77087",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "461849c5_9b773879",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1363709
      },
      "writtenOn": "2024-05-30T00:53:18Z",
      "side": 1,
      "message": "No problem, looking forward to your feedback.",
      "parentUuid": "70891bac_59868022",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2966b904_c103d719",
        "filename": "osp/impl/quic/quic_client.h",
        "patchSetId": 7
      },
      "lineNbr": 142,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2024-05-22T20:35:37Z",
      "side": 1,
      "message": "Nit: Typo in \"identified\" (twice)",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "81cb6d8d_f2b6d8fb",
        "filename": "osp/impl/quic/quic_client.h",
        "patchSetId": 7
      },
      "lineNbr": 142,
      "author": {
        "id": 1363709
      },
      "writtenOn": "2024-05-23T02:27:46Z",
      "side": 1,
      "message": "Thanks. done.",
      "parentUuid": "2966b904_c103d719",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b6275e31_aeb71017",
        "filename": "osp/impl/quic/quic_server.h",
        "patchSetId": 7
      },
      "lineNbr": 90,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2024-05-22T20:35:37Z",
      "side": 1,
      "message": "Typo (twice) in \"identified\"",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0487dc24_74f3cea5",
        "filename": "osp/impl/quic/quic_server.h",
        "patchSetId": 7
      },
      "lineNbr": 90,
      "author": {
        "id": 1363709
      },
      "writtenOn": "2024-05-23T02:27:46Z",
      "side": 1,
      "message": "Thanks, done.",
      "parentUuid": "b6275e31_aeb71017",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4dd47c5_e48b04a6",
        "filename": "osp/public/instance_request_ids.h",
        "patchSetId": 7
      },
      "lineNbr": 38,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2024-05-22T20:35:37Z",
      "side": 1,
      "message": "This macro is deprecated, can you explicitly delete the copy and move operators?  Thanks.",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f8c12ff6_cad3b64b",
        "filename": "osp/public/instance_request_ids.h",
        "patchSetId": 7
      },
      "lineNbr": 38,
      "author": {
        "id": 1363709
      },
      "writtenOn": "2024-05-23T02:27:46Z",
      "side": 1,
      "message": "Thanks, done.",
      "parentUuid": "a4dd47c5_e48b04a6",
      "revId": "578752a39018f39da8d06cce03853e45c124ce3e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}