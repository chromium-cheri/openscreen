{
  "comments": [
    {
      "key": {
        "uuid": "4dd270c8_5fa5a2fd",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-07-26T22:52:19Z",
      "side": 1,
      "message": "If this is a true observer, then pass the socket as const ref, so the observer can\u0027t mutate the socket.",
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3012138d_11b98f00",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1336186
      },
      "writtenOn": "2019-07-29T20:09:27Z",
      "side": 1,
      "message": "+1",
      "parentUuid": "4dd270c8_5fa5a2fd",
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13b2b411_e1c7e2f9",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-07-29T21:20:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3012138d_11b98f00",
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7d2eaf54_135c8434",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-07-26T22:02:36Z",
      "side": 1,
      "message": "What is the current use case for most of these functions? I assume you are porting it from Chromium, but adding code to support all of these when we only need OnMessage so far seems like a lot of unnecessary effort",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 65,
        "endChar": 71
      },
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "42820c3c_27406c8c",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-07-26T22:52:19Z",
      "side": 1,
      "message": "I think all of the NetworkService APIs in Chromium are async.",
      "parentUuid": "7d2eaf54_135c8434",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 65,
        "endChar": 71
      },
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "37d34dd3_41317791",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 65,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-07-29T21:20:46Z",
      "side": 1,
      "message": "This is the only way to report async errors.",
      "parentUuid": "42820c3c_27406c8c",
      "range": {
        "startLine": 61,
        "startChar": 0,
        "endLine": 65,
        "endChar": 71
      },
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1e346f0c_21971ebe",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 69,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-07-26T22:02:36Z",
      "side": 1,
      "message": "Is the idea here that the OnMessage would be called when a socket message arrives, instead of a callback in the NetworkRunner?\n\nWhen you\u0027re in the office, I\u0027d like to discuss this in person - I\u0027m not against the idea, but want to have a better understanding of what you have in mind and why we want this, and how the NetworkRunner will integrate with this (preferably before getting this patch in)",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 69,
        "endChar": 4
      },
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca9811aa_11cdd019",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 69,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-07-29T21:20:46Z",
      "side": 1,
      "message": "The NetworkRunner is an implementation detail--I don\u0027t think we want embedders to be forced to use a NetworkRunner. Certainly in Chromium at least--since the Network code runs in a separate process and provides async callbacks, having to implement a NetworkRunner and use it doesn\u0027t really make sense.\n\nThe Posix UDPSocket is more than welcome to use the NetworkRunner, however the NetworkRunner should then call OnMessage on the Observer.",
      "parentUuid": "1e346f0c_21971ebe",
      "range": {
        "startLine": 57,
        "startChar": 0,
        "endLine": 69,
        "endChar": 4
      },
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a7b46bac_d0b9ea02",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-07-26T22:02:36Z",
      "side": 1,
      "message": "Do we only want to allow exactly one observer per socket? I can imagine cases where multiple would be useful\n\nAdditionally, do we not want to allow the user to swap out the observer? Currently, they would need to entirely re-create the socket",
      "range": {
        "startLine": 104,
        "startChar": 0,
        "endLine": 104,
        "endChar": 38
      },
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e9b6fad9_edfa4bc0",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-07-26T22:52:19Z",
      "side": 1,
      "message": "I think it depends on the use case.  If the observer is just be used to report error cases, then it should be easy to convert it to an observer list if we need more than one for some reason.\n\nIf it\u0027s used by the client to drive a state machine (Bind()-\u003eJoin()-\u003eSend() etc.) then there should be exactly one per socket, and it would be better named ::Callbacks.",
      "parentUuid": "a7b46bac_d0b9ea02",
      "range": {
        "startLine": 104,
        "startChar": 0,
        "endLine": 104,
        "endChar": 38
      },
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4bea5736_13b42737",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 2
      },
      "lineNbr": 104,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-07-29T21:20:46Z",
      "side": 1,
      "message": "Callbacks makes more sense to me, I\u0027ll move to that.",
      "parentUuid": "e9b6fad9_edfa4bc0",
      "range": {
        "startLine": 104,
        "startChar": 0,
        "endLine": 104,
        "endChar": 38
      },
      "revId": "d532967a0d9b9e1585054ba02b610daf1ffc5e6f",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}