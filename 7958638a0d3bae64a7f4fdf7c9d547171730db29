{
  "comments": [
    {
      "key": {
        "uuid": "d0fd32f0_7b6f4354",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 36,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "Aren\u0027t all of these going to be something that we\u0027ll want defined in the CDDL?  Should we put a TODO to include them from the file generated by the tool?",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fc74e53a_35dcc668",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 80,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "Should this be OnRemotelyClosed, then?",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2f3c1143_4d87db45",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 92,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "QUIC is going to require us to copy the stream into our own buffer as it arrives.  Ideally, the CBOR parser would give us a string view instead of copying it.  Then we could offer a string view here as well with the rule that the callback must either use it immediately or copy it, because once the callback is done, the string view will be destroyed.\n\nSo, I think using a string view on both of these below would be the best way to give us the flexibility to be efficient.",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eb9af647_cf1ad31d",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 94,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "Should probably specify that it\u0027s UTF8.",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8118e9d_f4be5723",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 98,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "A std::string can hold binary data as well, so I don\u0027t see much downside to having this be std::string, and a lot of upside.",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d42caf44_08c36d14",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 108,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "And if we can use string views, let\u0027s just use them for all string parameters, like here.  They are much nicer to use for things like this.",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "84b189ca_7dffe8dc",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "Shouldn\u0027t these return const refs instead of copying?",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "474a03d1_8b208c31",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "More string views if possible :).",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "83b02ba4_c7f83935",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 123,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "Why not just Close()?",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4aee8d9e_e276c12f",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 127,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "I don\u0027t understand how this is different from Close().  Maybe Close() with a reason enum?",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "271ca5fb_fbcba360",
        "filename": "api/public/presentation_common.h",
        "patchSetId": 1
      },
      "lineNbr": 132,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "I think it should be in only one place.  Either works.  Here seems more natural to me, unless we have use cases where you would terminate a Presentation without connecting to it.",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0d200bf_ce1f40ab",
        "filename": "api/public/presentation_controller.h",
        "patchSetId": 1
      },
      "lineNbr": 13,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "I\u0027m kind of worried about the threading of the various callbacks.  Are they all going to be called back on one thread?  Or is there no guarantee of what thread they will be called back on?  What does the callback need to assume about what thread it is running on?",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b25370f8_7cc7b8cd",
        "filename": "api/public/presentation_controller.h",
        "patchSetId": 1
      },
      "lineNbr": 20,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "How are we going to return a unique_ptr but also keep track of the connection internally in some kind of data structure?  Will we have two (one external and one internal)?  \n\nThe way we did this in WebRTC was to have an interal owned thing and then an external view into it via an ID that was held in the external thing.",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5fcefb4a_e423d1cb",
        "filename": "api/public/presentation_controller.h",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "What\u0027s the ownership of the observer?  Does the caller of RegisterScreenWatch guarantee that it will stay alive until CancelScreenWatch is called?  If so, that seems a bit easy to screw up.  Could we make this a little cleaner by having RegisterScreenWatch return a ScreenWatch object, which when destroyed, will cancel the watch?  That way, the observer can own the watch and when the observer is destroyed, the watch will automatically be canceled.",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a5d43846_31e12bbd",
        "filename": "api/public/presentation_controller.h",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "Who would ever call this?  And doesn\u0027t it cause more pain of needing to track the lifetime of the observer?  What if someone gets it and then someone else cancels the watch?",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc7316c9_956848a5",
        "filename": "api/public/presentation_controller.h",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "I\u0027m worried about memory management again :).\n\nIs this a one-time-use delegate?  Can the caller discard the delegate once it\u0027s called once?  Does it have to keep the delegate alive until one of those is called?  What if the caller of StartPresentation has a timeout and wants to give up and move on?  Is it not allowed to delete the delegate?\n\nMaybe like we have a cancellable watch, we could have a cancellable start request.",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "31129670_64dee840",
        "filename": "api/public/presentation_receiver.h",
        "patchSetId": 1
      },
      "lineNbr": 29,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "What is the return value?",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4785bf7_11afed29",
        "filename": "api/public/presentation_receiver.h",
        "patchSetId": 1
      },
      "lineNbr": 41,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "Why not, instead, return a PresentationConnection and let the callback do a SetDelegate on the PresentationConnection if it wants to?  That might make it easier to manage the lifetime of the delegate.",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ff21fe80_f271d9a8",
        "filename": "api/public/presentation_receiver.h",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "We should make clear the lifetime (must outlive the receiver).\n\nAnd can it set it to null if it wants to no longer have an observer?",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a12276a0_728f60ce",
        "filename": "api/public/presentation_receiver.h",
        "patchSetId": 1
      },
      "lineNbr": 74,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2018-09-27T04:37:59Z",
      "side": 1,
      "message": "Why not, instead, have a PresentationRequest object with a Terminate and Response method?",
      "revId": "7958638a0d3bae64a7f4fdf7c9d547171730db29",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}