{
  "comments": [
    {
      "key": {
        "uuid": "be58fe1a_07ad981f",
        "filename": "osp/demo/demo.cc",
        "patchSetId": 7
      },
      "lineNbr": 432,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-07-25T20:33:04Z",
      "side": 1,
      "message": "Using \u0027auto\u0027 here hides the fact it\u0027s returning a unique_ptr (thus transferring ownership).\nCan you use an explicit type here?",
      "revId": "1c75081e9313618b03484cec362efc7a77af51dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b6c86652_0a061430",
        "filename": "osp/demo/demo.cc",
        "patchSetId": 7
      },
      "lineNbr": 432,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-07-26T18:01:38Z",
      "side": 1,
      "message": "Updated to explicit typing",
      "parentUuid": "be58fe1a_07ad981f",
      "revId": "1c75081e9313618b03484cec362efc7a77af51dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8da3778e_a967f834",
        "filename": "osp/demo/demo.cc",
        "patchSetId": 7
      },
      "lineNbr": 437,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-07-25T20:33:04Z",
      "side": 1,
      "message": "Is this returning a NetworkRunner pointer?  Or the factory itself?",
      "revId": "1c75081e9313618b03484cec362efc7a77af51dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e359e82f_6f4c51d6",
        "filename": "osp/demo/demo.cc",
        "patchSetId": 7
      },
      "lineNbr": 437,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-07-26T18:01:38Z",
      "side": 1,
      "message": "This returns a pointer to the NetworkRunner - updating to explicit typing",
      "parentUuid": "8da3778e_a967f834",
      "revId": "1c75081e9313618b03484cec362efc7a77af51dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b8295b5a_9dc712dd",
        "filename": "osp/impl/discovery/mdns/mdns_responder_adapter_impl.cc",
        "patchSetId": 7
      },
      "lineNbr": 337,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-07-25T20:33:04Z",
      "side": 1,
      "message": "nit: constexpr",
      "revId": "1c75081e9313618b03484cec362efc7a77af51dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "10ad81ef_413a5011",
        "filename": "osp/impl/discovery/mdns/mdns_responder_adapter_impl.cc",
        "patchSetId": 7
      },
      "lineNbr": 337,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-07-26T18:01:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b8295b5a_9dc712dd",
      "revId": "1c75081e9313618b03484cec362efc7a77af51dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "342b0ab1_24a67ef6",
        "filename": "platform/api/network_runner_factory.h",
        "patchSetId": 7
      },
      "lineNbr": 14,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2019-07-25T17:03:25Z",
      "side": 1,
      "message": "I like the abstraction as it\u0027s used very good, but I find the naming curious.  It\u0027s not a factory in the sense that it creates something that you own.  Instead, it owns something you can get to.  And when you\u0027re done with the thing it owns, you delete the factory and not the thing. \n\nWouldn\u0027t it be better to make have a create method that returns a std::unique_ptr\u003cNetworkRunner\u003e  that wraps all the running of threads and deletes things when you delete it?",
      "revId": "1c75081e9313618b03484cec362efc7a77af51dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f15e8a8_15387e23",
        "filename": "platform/api/network_runner_factory.h",
        "patchSetId": 7
      },
      "lineNbr": 14,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-07-25T19:59:45Z",
      "side": 1,
      "message": "I really like the approach of having a UniquePtr with a custom action for delete, but the issue with this is that (based on what I\u0027m reading in the documentation) a unique_ptr deletion object must be constructable with an empty constructor. This means that there is no way to provide it with the required std::thread objects, or the TaskRunnerImpl object that will need to also be stopped.\n\nThe method that gets called for a delete is: void operator()(NetworkRunner* ptr)\nso we could do something hacky like keeping a map of pointer -\u003e properties we care about as a static map inside of the factory class that creates it. But this seems even weirder than the current approach. I\u0027m not against it though\n\nThoughts?\n\nIf we do need to use this class instead of a unique_ptr\u003c...\u003e, what would you recommend for naming? I agree factory isn\u0027t quite right, but I can\u0027t think of a better name",
      "parentUuid": "342b0ab1_24a67ef6",
      "revId": "1c75081e9313618b03484cec362efc7a77af51dd",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    }
  ]
}