{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "decdb82d_84273252",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "This patch was a little big to grok in one go.  IMO it would be helpful to split it into a relation chain where the platform/ changes are separate from the streaming and discovery changes.  If you keep it in one patch, that\u0027s okay, but it may take longer to get through review for me.",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d8d94bec_bb35e9c9",
        "filename": "cast/streaming/environment.cc",
        "patchSetId": 6
      },
      "lineNbr": 53,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "Please DCHECK() that socket_subcribers_ is empty in the dtor.",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0282d6a1_5ecbfe62",
        "filename": "cast/streaming/environment.h",
        "patchSetId": 6
      },
      "lineNbr": 36,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "As a caller, I\u0027m not sure what to do with this state. Presumably some methods are okay to call in specific state(s).  Can you document that more explicitly?\n\nOr is this intended to be internal to the implementation of the Environment?",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ca048f77_4c1ccdb4",
        "filename": "cast/streaming/environment.h",
        "patchSetId": 6
      },
      "lineNbr": 39,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "bikeshed: kStarting?",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e44f15e_ce34c464",
        "filename": "cast/streaming/environment.h",
        "patchSetId": 6
      },
      "lineNbr": 46,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "kInvalid",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4602daf7_ba46e0aa",
        "filename": "cast/streaming/environment.h",
        "patchSetId": 6
      },
      "lineNbr": 89,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "Is this always state of the socket, or the state of the environment as a whole?  I think if it\u0027s just for the socket, the naming should reflect that: SocketCallbacks, SocketState...",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "688af13b_b9b8ec88",
        "filename": "cast/streaming/environment.h",
        "patchSetId": 6
      },
      "lineNbr": 91,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "bikeshed: since you don\u0027t need to mock behavior for tests, just override the state, I would declare the tests as private friends and have them set the variable directly (or add a private SetForTest() API).\n\nThis avoids adding another vtable redirection to production code.",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "48de38d1_8b5917f5",
        "filename": "cast/streaming/environment.h",
        "patchSetId": 6
      },
      "lineNbr": 93,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "I only see one possible subscriber in this patch, unless I missed something.  Can this be accomplished by using a single Callbacks object instead of an observer pattern?",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bd72a1b_de0cbf91",
        "filename": "cast/streaming/receiver_session.cc",
        "patchSetId": 6
      },
      "lineNbr": 42,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "Is Stream moveable?  That would simplify this code vs. having to wrap in unique_ptr",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6a6b4b2b_4db4287f",
        "filename": "cast/streaming/receiver_session.cc",
        "patchSetId": 6
      },
      "lineNbr": 157,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "!IsValid()?",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d876c5c_c2d88b00",
        "filename": "cast/streaming/receiver_session.cc",
        "patchSetId": 6
      },
      "lineNbr": 166,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "Should this check be done first, before processing the message?",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19650a9a_ae5657e0",
        "filename": "cast/streaming/receiver_session.cc",
        "patchSetId": 6
      },
      "lineNbr": 193,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "Do we need to check the socket state before sending the answer?",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "742e0efa_cc84cc6a",
        "filename": "cast/streaming/receiver_session.h",
        "patchSetId": 6
      },
      "lineNbr": 118,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "Do these need to be public?",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "03df7a49_d77abc93",
        "filename": "cast/streaming/receiver_session.h",
        "patchSetId": 6
      },
      "lineNbr": 167,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "Nit: If you value-initialized sequence_number, you could just hold this as a normal member variable and set its values later, which avoids the overhead of allocating a unique_ptr.\n\nI don\u0027t feel strongly though.",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23c5c496_9395eb43",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 6
      },
      "lineNbr": 37,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2021-01-27T18:41:07Z",
      "side": 1,
      "message": "I don\u0027t think I\u0027ve seen us provide an \"optional\" callback but I think it might be a good idea here. Open to opinions.",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d233864d_22671b5d",
        "filename": "platform/api/udp_socket.h",
        "patchSetId": 6
      },
      "lineNbr": 37,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2021-01-27T20:20:06Z",
      "side": 1,
      "message": "I would prefer consistency here with the existing API unless there is a compelling reason (i.e. backwards compatibility with embedders)",
      "parentUuid": "23c5c496_9395eb43",
      "revId": "f2af5322bc709c226860ba1cf6daf5f372c60852",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba"
    }
  ]
}