{
  "comments": [
    {
      "key": {
        "uuid": "30005b19_9222b98c",
        "filename": "platform/api/socket.h",
        "patchSetId": 2
      },
      "lineNbr": 82,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2019-04-30T16:29:10Z",
      "side": 1,
      "message": "Rather than setting a direct DSCP value, I think we\u0027d be better have having a small enum of choices that get mapped to some DSCP value later.   I think all we really need are \"normal/unset/default\", \"audio/video\" and \"audio\".  It looks like right now, all we need are \"default\" and AF41 (video):\n\nhttps://cs.chromium.org/chromium/src/media/cast/net/udp_transport_impl.cc?type\u003dcs\u0026sq\u003dpackage:chromium\u0026g\u003d0\u0026l\u003d335\n\n\nThe caller often doesn\u0027t care what the DSCP value is.  It just wants to say \"it\u0027s special\" in some way.  In our case, it\u0027s to say it\u0027s media.\n\nBesides, you can\u0027t the DSCP directly on some platforms anyway:\n\nhttps://cs.chromium.org/chromium/src/net/socket/udp_socket_win.cc?type\u003dcs\u0026q\u003dDiffServCodePoint+file:%5Esrc/net/socket/+package:%5Echromium$\u0026g\u003d0\u0026l\u003d1135",
      "revId": "6291fdec1288c0839f395d62d6921b8a9f268595",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "558fd6ba_f4de7f6c",
        "filename": "platform/api/socket.h",
        "patchSetId": 2
      },
      "lineNbr": 82,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-04-30T19:27:21Z",
      "side": 1,
      "message": "I had intended the 4 values below to map to the 3 you mention above, plus one more we should need :)\nkDscpLowLatency \u003d system default\nkDscpMaxThroughput \u003d my guess at what we would want for video\nkDscpMaxReliability \u003d my guess at what we would want for audio\nkDscpLowPriority \u003d log messages (see design doc)\n\nI\u0027ve updated it to be an enum with names similar to your suggestions instead of constants though :)",
      "parentUuid": "30005b19_9222b98c",
      "revId": "6291fdec1288c0839f395d62d6921b8a9f268595",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1332a35d_cec4fbca",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 2
      },
      "lineNbr": 435,
      "author": {
        "id": 1002076
      },
      "writtenOn": "2019-04-30T02:03:53Z",
      "side": 1,
      "message": "I think you meant \"kDscpLowLatency\" here.",
      "range": {
        "startLine": 435,
        "startChar": 5,
        "endLine": 435,
        "endChar": 18
      },
      "revId": "6291fdec1288c0839f395d62d6921b8a9f268595",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "684fa65f_1b52e2bd",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 2
      },
      "lineNbr": 435,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-04-30T16:19:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1332a35d_cec4fbca",
      "range": {
        "startLine": 435,
        "startChar": 5,
        "endLine": 435,
        "endChar": 18
      },
      "revId": "6291fdec1288c0839f395d62d6921b8a9f268595",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fdc9d30b_3b3653d7",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 2
      },
      "lineNbr": 453,
      "author": {
        "id": 1125619
      },
      "writtenOn": "2019-04-30T16:29:10Z",
      "side": 1,
      "message": "I don\u0027t think this is how anyone does it any more.  I think it would be better to either:\n\nA.  Not define these constants.\n\nB.  Make it match this enum: \n\nhttps://cs.chromium.org/chromium/src/net/socket/diff_serv_code_point.h?type\u003dcs\u0026q\u003dDiffServCodePoint+file:%5Esrc/net/socket/+package:%5Echromium$\u0026g\u003d0\u0026l\u003d12\n\nC.  Make it match a smaller enum like I mentioned before.  \n\nI think I prefer C.",
      "revId": "6291fdec1288c0839f395d62d6921b8a9f268595",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "405e0705_3f4bc8f9",
        "filename": "platform/posix/socket.cc",
        "patchSetId": 2
      },
      "lineNbr": 453,
      "author": {
        "id": 1330244
      },
      "writtenOn": "2019-04-30T19:27:21Z",
      "side": 1,
      "message": "I defined an enum as suggested in C",
      "parentUuid": "fdc9d30b_3b3653d7",
      "revId": "6291fdec1288c0839f395d62d6921b8a9f268595",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}