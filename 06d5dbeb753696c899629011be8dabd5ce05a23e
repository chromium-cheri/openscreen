{
  "comments": [
    {
      "key": {
        "uuid": "00ef6a51_9417e508",
        "filename": "osp_base/crypto/secure_hash.cc",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1215804
      },
      "writtenOn": "2019-06-12T09:51:19Z",
      "side": 1,
      "message": "I don\u0027t know much about openssl APIs, but it looks like you might want to do something more like:\n\nauto* ctx \u003d ctx_.get();\nctx_.reset();\nOPENSSL_cleanse(ctx, sizeof(*ctx));\n\nI just wonder if zeroing the struct first is causing something in the bssl::UniquePtr destructor to not run.",
      "revId": "06d5dbeb753696c899629011be8dabd5ce05a23e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "40b1ad95_884436c8",
        "filename": "osp_base/crypto/secure_hash.cc",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1001982
      },
      "writtenOn": "2019-06-12T18:01:36Z",
      "side": 1,
      "message": "+1, trying to understand if OPENSSL_CLEANSE is a custom dtor for bssl::UniquePtr here or if you need to null out the bssl::UniquePtr separately.  Maybe drop bssl::UniquePtr if it\u0027s not useful after all.",
      "parentUuid": "00ef6a51_9417e508",
      "revId": "06d5dbeb753696c899629011be8dabd5ce05a23e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03b72dc2_010e5e62",
        "filename": "osp_base/crypto/secure_hash.cc",
        "patchSetId": 1
      },
      "lineNbr": 34,
      "author": {
        "id": 1323871
      },
      "writtenOn": "2019-06-12T18:59:36Z",
      "side": 1,
      "message": "Turns out, the easiest way is to just delete this line--it\u0027s completely unnecessary.\n\nUniquePtr handles cleanup/zeroing out for all types it is used for, we don\u0027t need to do anything in the destructor here:\n\nhttps://github.com/google/boringssl/blob/master/include/openssl/digest.h",
      "parentUuid": "40b1ad95_884436c8",
      "revId": "06d5dbeb753696c899629011be8dabd5ce05a23e",
      "serverId": "3ce6091f-6c88-37e8-8c75-72f92ae8dfba",
      "unresolved": false
    }
  ]
}